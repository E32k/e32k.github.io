<aside>
<!-- Start filtering all pages that start with /beamng/ -->

{% assign tree = {} %}

{% for page in site.pages %}
  {% if page.path contains "/beamng/" %}
    {% assign parts = page.path | remove_first: "/" | split: "/" %}
    {% assign current = tree %}
    {% for part in parts %}
      {% if forloop.last %}
        {% assign current = current | merge: {{ part }}: page %}
      {% else %}
        {% unless current[part] %}
          {% assign current = current | merge: {{ part }}: {} %}
        {% endunless %}
        {% assign current = current[part] %}
      {% endif %}
    {% endfor %}
  {% endif %}
{% endfor %}

<!-- Render the tree recursively -->
{% include sidebar_node.html node=tree path="" %}
</aside>
